!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("aws-sdk"),require("babel-runtime/core-js/json/stringify"),require("babel-runtime/core-js/promise"),require("bcrypt-nodejs"),require("joi"),require("jsonwebtoken"),require("validator")):"function"==typeof define&&define.amd?define("library",["aws-sdk","babel-runtime/core-js/json/stringify","babel-runtime/core-js/promise","bcrypt-nodejs","joi","jsonwebtoken","validator"],n):"object"==typeof exports?exports.library=n(require("aws-sdk"),require("babel-runtime/core-js/json/stringify"),require("babel-runtime/core-js/promise"),require("bcrypt-nodejs"),require("joi"),require("jsonwebtoken"),require("validator")):e.library=n(e["aws-sdk"],e["babel-runtime/core-js/json/stringify"],e["babel-runtime/core-js/promise"],e["bcrypt-nodejs"],e.joi,e.jsonwebtoken,e.validator)}(this,function(e,n,r,t,o,i,u){return function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};return n.m=e,n.c=r,n.i=function(e){return e},n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=7)}([function(e,n){e.exports=require("aws-sdk")},function(e,n){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,n){e.exports=require("babel-runtime/core-js/promise")},function(e,n){e.exports=require("bcrypt-nodejs")},function(e,n){e.exports=require("joi")},function(e,n){e.exports=require("jsonwebtoken")},function(e,n){e.exports=require("validator")},function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.tokenValidate=n.bcryptCompare=n.bcryptHash=n.jwtVerify=n.dynamoPut=n.dynamoQuery=n.dynamoScan=n.dynamoUpdate=n.joiValidate=n.uuidRegex=n.sanitize=void 0;var o=r(1),i=t(o),u=r(2),a=t(u),f=r(4),c=t(f),d=r(0),s=t(d),l=r(3),p=t(l),b=r(5),y=t(b),m=r(6),j=t(m);n.sanitize=function(e){return j.default.stripLow(j.default.escape(e))},n.uuidRegex=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,n.joiValidate=function(e,n){return new a.default(function(r,t){c.default.validate(e,n,function(e,n){if(e)return void t(e);r(n)})})},n.dynamoUpdate=function(e){return new a.default(function(n,r){(new s.default.DynamoDB.DocumentClient).update(e,function(e,t){if(e)return void r(e);n(t)})})},n.dynamoScan=function(e){return new a.default(function(n,r){(new s.default.DynamoDB.DocumentClient).scan(e,function(e,t){if(e)return void r(e);n(t)})})},n.dynamoQuery=function(e){return new a.default(function(n,r){(new s.default.DynamoDB.DocumentClient).query(e,function(e,t){if(e)return void r(e);n(t)})})},n.dynamoPut=function(e){return new a.default(function(n,r){(new s.default.DynamoDB.DocumentClient).put(e,function(e,t){if(e)return void r(e);n(t)})})},n.jwtVerify=function(e,n,r){return new a.default(function(t,o){y.default.verify(e,n,r,function(e,n){if(e)return void o(e);t(n)})})},n.bcryptHash=function(e,n){return new a.default(function(r,t){p.default.hash(e,p.default.genSaltSync(n),null,function(e,n){if(e)return void t(e);r(n)})})},n.bcryptCompare=function(e,n){return new a.default(function(r,t){p.default.compare(e,n,function(e,n){if(e)return void t(e);r(n)})})},n.tokenValidate=function(e,n,r){return new a.default(function(t,o){var u={FunctionName:e,Payload:(0,i.default)({token:r})};n.invoke(u,function(e,n){if(e)return void o(e);var r=JSON.parse(n.Payload);r.email?t(!0):o(new Error(r.errorMessage))})})}}])});